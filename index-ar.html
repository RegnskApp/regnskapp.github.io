<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Meta Tags -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BalanceTrackr (RegnskApp) â€“ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø¹Ù„Ù‰ iOS</title>
  <meta name="description" content="BalanceTrackr ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ù„Ù†Ø¸Ø§Ù… iOS. ØªØªØ¨Ù‘Ø¹ Ø¯Ø®Ù„Ùƒ ÙˆÙ…ØµØ§Ø±ÙŠÙÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©ØŒ Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø£Ùˆ Ø§Ø´ØªØ±Ø§ÙƒØ§Øª." />
  <meta name="keywords" content="budget app, expense tracker, personal finance, iOS, BalanceTrackr, RegnskApp, money management, finance app, budget planner" />
  <meta name="author" content="Ole Morten Tengesdal" />

  <!-- Canonical URL: must match this exact language version -->
  <link rel="canonical" href="https://balancetrackr.com/index-ar.html" />

  <!-- Hreflang for all language versions -->
  <link rel="alternate" hreflang="en" href="https://balancetrackr.com/index.html" />
  <link rel="alternate" hreflang="no" href="https://balancetrackr.com/index-no.html" />
  <link rel="alternate" hreflang="ar" href="https://balancetrackr.com/index-ar.html" />
  <link rel="alternate" hreflang="da" href="https://balancetrackr.com/index-da.html" />
  <link rel="alternate" hreflang="de" href="https://balancetrackr.com/index-de.html" />
  <link rel="alternate" hreflang="es" href="https://balancetrackr.com/index-es.html" />
  <link rel="alternate" hreflang="fi" href="https://balancetrackr.com/index-fi.html" />
  <link rel="alternate" hreflang="fr" href="https://balancetrackr.com/index-fr.html" />
  <link rel="alternate" hreflang="hi" href="https://balancetrackr.com/index-hi.html" />
  <link rel="alternate" hreflang="it" href="https://balancetrackr.com/index-it.html" />
  <link rel="alternate" hreflang="ja" href="https://balancetrackr.com/index-ja.html" />
  <link rel="alternate" hreflang="nl" href="https://balancetrackr.com/index-nl.html" />
  <link rel="alternate" hreflang="sv" href="https://balancetrackr.com/index-sv.html" />
  <link rel="alternate" hreflang="uk" href="https://balancetrackr.com/index-uk.html" />
  <link rel="alternate" hreflang="zh-Hans" href="https://balancetrackr.com/index-zhHans.html" />
  <link rel="alternate" hreflang="zh-Hant" href="https://balancetrackr.com/index-zhHant.html" />
  <!-- x-default for generic version -->
  <link rel="alternate" hreflang="x-default" href="https://balancetrackr.com/index.html" />

  <!-- Apple Smart Banner -->
  <meta name="apple-itunes-app" content="app-id=6743946348, app-argument=https://balancetrackr.com/" />

  <!-- Favicon -->
  <link rel="icon" href="images/RegnskApp-Light-Mode-Icon.jpg" type="image/jpeg" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="BalanceTrackr â€“ Smart Budget & Expense Tracker" />
  <meta property="og:description" content="Take control of your finances with this privacy-first budgeting app. Track expenses, monitor your balance, and achieve your financial goals." />
  <meta property="og:image" content="https://balancetrackr.com/images/RegnskApp-Light-Mode-Icon.jpg" />
  <meta property="og:url" content="https://balancetrackr.com/" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BalanceTrackr â€“ Smart Budget & Expense Tracker" />
  <meta name="twitter:description" content="Take control of your finances with this privacy-first budgeting app. Track expenses, monitor your balance, and achieve your financial goals." />
  <meta name="twitter:image" content="https://balancetrackr.com/images/RegnskApp-Light-Mode-Icon.jpg" />

  <!-- Google Search Console -->
  <meta name="google-site-verification" content="z2cVAhGqX7qGGwkdcP_SlnGftVeSXB4nG2K1egdlYOo" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <style>
    /* Modern CSS Reset & Base Styles */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --primary-color: #0f766e;
      --primary-dark: #0d5f56;
      --accent-color: #f59e0b;
      --success-color: #10b981;
      --text-primary: #111827;
      --text-secondary: #6b7280;
      --text-muted: #9ca3af;
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --border-color: #e5e7eb;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --radius-sm: 0.375rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-xl: 1rem;
      --transition-fast: 0.15s ease;
      --transition-normal: 0.3s ease;
      --transition-slow: 0.5s ease;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --text-primary: #f9fafb;
        --text-secondary: #d1d5db;
        --text-muted: #9ca3af;
        --bg-primary: #111827;
        --bg-secondary: #1f2937;
        --bg-tertiary: #374151;
        --border-color: #374151;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
      }
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      overflow-x: hidden;
    }

    /* Modern Typography */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.25;
      letter-spacing: -0.025em;
    }

    h1 { font-size: clamp(2rem, 5vw, 3.5rem); }
    h2 { font-size: clamp(1.5rem, 4vw, 2.25rem); }
    h3 { font-size: clamp(1.25rem, 3vw, 1.875rem); }

    p { margin-bottom: 1rem; }

    /* Navigation Components */
    .nav-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-color);
      transition: all var(--transition-normal);
    }

    @media (prefers-color-scheme: dark) {
      .nav-container {
        background: rgba(17, 24, 39, 0.8);
      }
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* Language Switcher */
    #language-switcher {
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    #active-language {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-fast);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
    }

    #current-lang-text {
      color: var(--text-primary);
      font-weight: 500;
    }

    #active-language:hover {
      background: var(--bg-tertiary);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    #current-flag {
      width: 20px;
      height: 15px;
      border-radius: 2px;
      object-fit: cover;
    }

    #language-menu {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 0.5rem;
      background: var(--bg-primary);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-xl);
      padding: 0.5rem;
      min-width: 200px;
      max-height: 300px;
      overflow-y: auto;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all var(--transition-normal);
      z-index: 1000;
    }

    /* Custom scrollbar for language menu */
    #language-menu::-webkit-scrollbar {
      width: 6px;
    }

    #language-menu::-webkit-scrollbar-track {
      background: var(--bg-secondary);
      border-radius: 3px;
    }

    #language-menu::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    #language-menu::-webkit-scrollbar-thumb:hover {
      background: var(--text-muted);
    }

    #language-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    #language-menu button {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      width: 100%;
      padding: 0.75rem 1rem;
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-fast);
      font-size: 0.9rem;
      color: var(--text-primary);
      font-weight: 500;
      box-shadow: var(--shadow-sm);
      margin-bottom: 0.25rem;
    }

    #language-menu button:hover {
      background: var(--bg-secondary);
      border-color: var(--primary-color);
      box-shadow: var(--shadow-md);
      transform: translateY(-1px);
    }

    #language-menu button:active {
      transform: translateY(0);
      box-shadow: var(--shadow-sm);
    }

    /* Hamburger Menu */
    #hamburger-menu {
      position: relative;
    }

    #menu-toggle {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 44px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-fast);
      font-size: 0;
      padding: 0;
    }

    #menu-toggle::before,
    #menu-toggle::after,
    #menu-toggle span {
      content: '';
      display: block;
      width: 20px;
      height: 2px;
      background: var(--text-primary);
      margin: 3px 0;
      transition: all var(--transition-fast);
      border-radius: 1px;
    }

    #menu-toggle:hover {
      background: var(--bg-tertiary);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    #menu-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 0.5rem;
      background: var(--bg-primary);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-xl);
      padding: 0.5rem;
      min-width: 235px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all var(--transition-normal);
      z-index: 1000;
    }

    #menu-dropdown.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    #menu-dropdown a {
      display: block;
      padding: 0.75rem 1rem;
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      text-decoration: none;
      border-radius: var(--radius-md);
      transition: all var(--transition-fast);
      font-weight: 500;
      box-shadow: var(--shadow-sm);
      margin-bottom: 0.25rem;
    }

    #menu-dropdown a:hover {
      background: var(--bg-secondary);
      border-color: var(--primary-color);
      box-shadow: var(--shadow-md);
      transform: translateX(2px) translateY(-1px);
    }

    #menu-dropdown a:active {
      transform: translateX(2px) translateY(0);
      box-shadow: var(--shadow-sm);
    }

    /* Hero Section */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(37, 99, 235, 0.05) 0%, transparent 70%);
      animation: float 20s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(30px, -30px) rotate(120deg); }
      66% { transform: translate(-20px, 20px) rotate(240deg); }
    }

    .hero-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    .hero-icon {
      width: 120px;
      height: 120px;
      margin: 0 auto 2rem;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
      transition: transform var(--transition-normal);
    }

    .hero-icon:hover {
      transform: scale(1.05) rotate(5deg);
    }

    .hero-title {
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: clamp(1rem, 2.5vw, 1.25rem);
      color: var(--text-secondary);
      margin-bottom: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-cta {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 3rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      background: var(--primary-color);
      color: white;
      text-decoration: none;
      border-radius: var(--radius-lg);
      font-weight: 600;
      font-size: 1.1rem;
      transition: all var(--transition-fast);
      box-shadow: var(--shadow-md);
      border: 2px solid var(--primary-color);
    }

    .btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary-color);
      border-color: var(--primary-color);
    }

    .btn-secondary:hover {
      background: var(--primary-color);
      color: white;
    }

    /* Features Section */
    .features {
      padding: 5rem 2rem;
      background: var(--bg-secondary);
    }

    .features-grid {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .feature-card {
      background: var(--bg-primary);
      padding: 2rem;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-color);
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      transform: scaleX(0);
      transition: transform var(--transition-normal);
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
    }

    .feature-card:hover::before {
      transform: scaleX(1);
    }

    .feature-icon {
      width: 48px;
      height: 48px;
      background: var(--primary-color);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .feature-title {
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .feature-description {
      color: var(--text-secondary);
    }

    /* Screenshots Section */
    .screenshots {
      padding: 5rem 2rem;
      background: var(--bg-primary);
    }

    .section-header {
      text-align: center;
      max-width: 800px;
      margin: 0 auto 4rem;
    }

    .section-title {
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .section-description {
      font-size: 1.1rem;
      color: var(--text-secondary);
    }

    .carousel-wrapper {
      position: relative;
      margin: 0 auto;
      max-width: 1000px;
    }

    .carousel {
      display: flex;
      overflow-x: auto;
      gap: 2rem;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      padding: 2rem;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .carousel::-webkit-scrollbar {
      display: none;
    }

    .carousel img {
      flex: 0 0 auto;
      width: calc(100vw - 4rem);
      max-width: 300px;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-lg);
      scroll-snap-align: center;
      transition: all var(--transition-normal);
    }

    @media (min-width: 768px) {
      .carousel img {
        width: calc(25% - 1.5rem);
        max-width: 250px;
        min-width: 200px;
      }
    }

    @media (min-width: 768px) {
      .carousel img:hover {
        transform: scale(1.05);
        box-shadow: var(--shadow-xl);
      }
    }

    @media (max-width: 767px) {
      .carousel-dots {
        display: flex;
        justify-content: center;
        gap: 0.5rem;
        margin-top: 2rem;
      }
    }

    .carousel-dots .dot {
      width: 12px;
      height: 12px;
      background: var(--border-color);
      border-radius: 50%;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .carousel-dots .dot.active {
      background: var(--primary-color);
      transform: scale(1.2);
    }

    /* Video Section */
    .video-section {
      padding: 5rem 2rem;
      background: var(--bg-secondary);
      text-align: center;
    }

    .video-container {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }

    .video-container video {
      width: 100%;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
    }

    .video-caption {
      margin-top: 2rem;
      padding: 1rem 1.5rem;
      background: var(--bg-primary);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 3.5rem;
      text-align: center;
      line-height: 1.4;
    }

    .video-caption p {
      margin: 0;
      padding: 0;
      line-height: 1.4;
    }

    /* Download Section */
    .download {
      padding: 5rem 2rem;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      text-align: center;
    }

    .download-content {
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 1.5rem;
    }

    .download-title {
      margin-bottom: 0.5rem;
      color: white;
    }

    .download-subtitle {
      margin-bottom: 1rem;
      color: rgba(255, 255, 255, 0.9);
      max-width: 600px;
    }


    .download-subtitle {
      margin-bottom: 3rem;
      opacity: 0.9;
      font-size: 1.1rem;
    }

    .download-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem 1.5rem;
      background: rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-lg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all var(--transition-fast);
      min-height: 3rem;
    }

    .download-badge img {
      display: block;
      margin: 0;
    }

    .download-badge:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    /* Reviews Section */
    .reviews {
      padding: 5rem 2rem;
      background: var(--bg-primary);
    }

    .reviews-grid {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .review-card {
      background: var(--bg-secondary);
      padding: 2rem;
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-color);
      position: relative;
    }

    .review-quote {
      font-size: 1.1rem;
      font-style: italic;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .review-stars {
      display: flex;
      gap: 0.25rem;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .review-star {
      color: var(--accent-color);
    }

    .review-star.empty {
      color: var(--border-color);
    }

    .review-author {
      font-weight: 600;
      color: var(--text-primary);
    }

    .review-source {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Social Section */
    .social {
      padding: 3rem 2rem;
      background: var(--bg-secondary);
      text-align: center;
    }

    .social-link {
      display: inline-flex;
      align-items: center;
      gap: 2rem;
      padding: 1rem 1.5rem;
      background: var(--bg-primary);
      border-radius: var(--radius-lg);
      text-decoration: none;
      color: var(--text-primary);
      transition: all var(--transition-fast);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-color);
    }

    .social-link:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    @media (max-width: 767px) {
      .social-link {
        margin-bottom: 1rem;
      }
    }

    /* Footer */
    .footer {
      padding: 2rem;
      background: var(--bg-tertiary);
      text-align: center;
      border-top: 1px solid var(--border-color);
    }

    .footer-content {
      max-width: 800px;
      margin: 0 auto;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      position: relative;
      margin: auto;
      display: block;
      max-width: 400px;
      max-height: 60vh;
      top: 5%;
      transform: translateY(0);
    }

    .modal-content img {
      width: 100%;
      height: auto;
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
    }

    .modal-close {
      position: absolute;
      top: -40px;
      right: 0;
      color: white;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: color var(--transition-fast);
    }

    .modal-close:hover {
      color: var(--accent-color);
    }

    @media (max-width: 767px) {
      .modal-content {
        max-width: 85%;
        max-height: 70%;
      }

      .modal-close {
        top: -35px;
        font-size: 35px;
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-content {
        padding: 1rem;
      }

      .hero-cta {
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 100%;
        max-width: 300px;
        justify-content: center;
      }

      .features-grid {
        grid-template-columns: 1fr;
      }

      .reviews-grid {
        grid-template-columns: 1fr;
      }

      .hero {
        min-height: auto;
        padding: 8rem 0 4rem;
      }

      /* Fix language menu positioning on mobile */
      #language-menu {
        left: 0;
        right: auto;
        min-width: 180px;
      }
    }

    /* Loading Animation */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in-up {
      animation: fadeInUp 0.6s ease-out;
    }

    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Focus styles */
    button:focus-visible,
    a:focus-visible {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Print styles */
    @media print {
      .nav-container,
      .hero-cta,
      .social {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav-container">
    <div class="nav-content">
      <!-- ğŸŒ Language Switcher -->
      <div id="language-switcher">
        <button id="active-language" onclick="toggleLanguageMenu()" aria-label="Select language">
          <img id="current-flag" src="" alt="Selected language" />
          <span id="current-lang-text">EN</span>
        </button>
        <div id="language-menu">
          <button onclick="changeLanguage('en')">
            <img src="images/en/gb.svg" width="20" alt="English" /> English
          </button>
          <button onclick="changeLanguage('no')">
            <img src="images/no/no.svg" width="20" alt="Norsk" /> Norsk
          </button>
          <button onclick="changeLanguage('da')">
            <img src="images/da/da.svg" width="20" alt="Dansk" /> Dansk
          </button>
          <button onclick="changeLanguage('sv')">
            <img src="images/sv/sv.svg" width="20" alt="Svenska" /> Svenska
          </button>
          <button onclick="changeLanguage('de')">
            <img src="images/de/de.svg" width="20" alt="Deutsch" /> Deutsch
          </button>
          <button onclick="changeLanguage('fr')">
            <img src="images/fr/fr.svg" width="20" alt="FranÃ§ais" /> FranÃ§ais
          </button>
          <button onclick="changeLanguage('es')">
            <img src="images/es/es.svg" width="20" alt="EspaÃ±ol" /> EspaÃ±ol
          </button>
          <button onclick="changeLanguage('ar')">
            <img src="images/ar/ar.svg" width="20" alt="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" /> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
          </button>
          <button onclick="changeLanguage('fi')">
            <img src="images/fi/fi.svg" width="20" alt="Suomi" /> Suomi
          </button>
          <button onclick="changeLanguage('hi')">
            <img src="images/hi/hi.svg" width="20" alt="à¤¹à¤¿à¤¨à¥à¤¦à¥€" /> à¤¹à¤¿à¤¨à¥à¤¦à¥€
          </button>
          <button onclick="changeLanguage('it')">
            <img src="images/it/it.svg" width="20" alt="Italiano" /> Italiano
          </button>
          <button onclick="changeLanguage('ja')">
            <img src="images/ja/ja.svg" width="20" alt="æ—¥æœ¬èª" /> æ—¥æœ¬èª
          </button>
          <button onclick="changeLanguage('nl')">
            <img src="images/nl/nl.svg" width="20" alt="Nederlands" /> Nederlands
          </button>
          <button onclick="changeLanguage('uk')">
            <img src="images/uk/uk.svg" width="20" alt="Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°" /> Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°
          </button>
          <button onclick="changeLanguage('zhHans')">
            <img src="images/zhHans/zhHans.svg" width="20" alt="ç®€ä½“ä¸­æ–‡" /> ç®€ä½“ä¸­æ–‡
          </button>
          <button onclick="changeLanguage('zhHant')">
            <img src="images/zhHant/zhHant.svg" width="20" alt="ç¹é«”ä¸­æ–‡" /> ç¹é«”ä¸­æ–‡
          </button>
        </div>
      </div>

      <!-- ğŸ” Hamburger Menu -->
      <div id="hamburger-menu">
        <button id="menu-toggle" aria-label="Open menu"><span></span></button>
        <div id="menu-dropdown">
          <a href="SiriShortcutsSetup/ar.html">Apple Pay & Shortcuts</a>
          <a href="SiriShortcuts/ar.html">Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙˆØ§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</a>
          <a href="privacy-policy/ar.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
          <a href="support/ar.html">Ø§Ù„Ø¯Ø¹Ù…</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content fade-in-up">
      <picture>
        <source srcset="images/RegnskApp-Dark-Mode-Icon.jpg" media="(prefers-color-scheme: dark)" />
        <img src="images/RegnskApp-Light-Mode-Icon.jpg" alt="BalanceTrackr App Icon" class="hero-icon" />
      </picture>

      <h1 class="hero-title">BalanceTrackr</h1>
      <p class="hero-subtitle">
        Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ Ø£Ù…ÙˆØ§Ù„Ùƒ Ù…Ø¹ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø°ÙŠ ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©.
        ØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙØŒ Ø±Ø§Ù‚Ø¨ Ø±ØµÙŠØ¯ÙƒØŒ ÙˆØ§Ø­Ù‚Ù‚ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©.
      </p>

      <div class="hero-cta">
        <a href="https://apps.apple.com/us/app/regnskapp/id6743946348" class="btn" target="_blank">
          <span>ğŸ“±</span> ØªØ­Ù…ÙŠÙ„ Ù„Ù†Ø¸Ø§Ù… iOS
        </a>
        <a href="#features" class="btn btn-secondary">
          <span>âœ¨</span> Ø§ÙƒØªØ´Ù Ø§Ù„Ù…ÙŠØ²Ø§Øª
        </a>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features">
    <div class="features-grid">
      <div class="feature-card fade-in-up">
        <div class="feature-icon">ğŸ¦</div>
        <h3 class="feature-title">Ø­Ø³Ø§Ø¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©</h3>
        <p class="feature-description">
          Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Øª Ø´Ø®ØµÙŠØ©ØŒ Ù…Ø´ØªØ±ÙƒØ©ØŒ Ø£Ùˆ Ø®Ø§ØµØ© Ø¨Ù…Ø´Ø§Ø±ÙŠØ¹. Ø§Ø­ØªÙØ¸ Ø¨Ø£Ù…ÙˆØ±Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù…Ù†Ø¸Ù…Ø© ÙˆÙ…Ù†ÙØµÙ„Ø©.
        </p>
      </div>

      <div class="feature-card fade-in-up">
        <div class="feature-icon">ğŸ’¸</div>
        <h3 class="feature-title">ØªØªØ¨Ø¹ Ø°ÙƒÙŠ</h3>
        <p class="feature-description">
          Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®Ù„ØŒ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙØŒ ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù†Ø§ØµØ± ØªØ­ÙƒÙ… Ø¨Ø¯ÙŠÙ‡ÙŠØ©. ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯Ùƒ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ.
        </p>
      </div>

      <div class="feature-card fade-in-up">
        <div class="feature-icon">ğŸ“Š</div>
        <h3 class="feature-title">ØªØ­Ù„ÙŠÙ„Ø§Øª Ø¨ØµØ±ÙŠØ©</h3>
        <p class="feature-description">
          Ø´Ø§Ù‡Ø¯ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© ØªØªÙƒØ´Ù Ù…Ø¹ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© Ø®Ø·ÙŠØ© ÙˆØ§Ø¶Ø­Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø§ØªØ¬Ø§Ù‡Ø§Øª Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª.
        </p>
      </div>

      <div class="feature-card fade-in-up">
        <div class="feature-icon">â°</div>
        <h3 class="feature-title">Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„ÙŠÙˆÙ… Ø§Ù„Ø±Ø§ØªØ¨</h3>
        <p class="feature-description">
          Ù„Ø§ ØªÙÙˆØª Ø£Ø¨Ø¯Ù‹Ø§ Ù…ØªØ§Ø¨Ø¹Ø© Ù…ÙˆØ¹Ø¯ ÙˆØµÙˆÙ„ Ø±Ø§ØªØ¨Ùƒ Ø§Ù„ØªØ§Ù„ÙŠ. ÙƒÙ† Ù…ØªÙ‚Ø¯Ù…Ù‹Ø§ Ø¹Ù„Ù‰ ØªØ¯ÙÙ‚ Ø£Ù…ÙˆØ§Ù„Ùƒ.
        </p>
      </div>

      <div class="feature-card fade-in-up">
        <div class="feature-icon">ğŸ”’</div>
        <h3 class="feature-title">Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø£ÙˆÙ„Ø§Ù‹</h3>
        <p class="feature-description">
          ØªØ¨Ù‚Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. Ù„Ø§ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªØŒ Ù„Ø§ Ø§Ø´ØªØ±Ø§ÙƒØ§ØªØŒ Ù„Ø§ Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª.
        </p>
      </div>

      <div class="feature-card fade-in-up">
        <div class="feature-icon">ğŸ¯</div>
        <h3 class="feature-title">ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Siri</h3>
        <p class="feature-description">
          Ø§Ø³ØªØ®Ø¯Ù… Ø§Ø®ØªØµØ§Ø±Ø§Øª Siri Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø³Ø±Ø¹Ø© Ø¯ÙˆÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠØ¯ÙŠÙ†. Ø§Ù„Ø£ØªÙ…ØªØ© ÙÙŠ Ù…ØªÙ†Ø§ÙˆÙ„ Ø£ØµØ§Ø¨Ø¹Ùƒ.
        </p>
      </div>
    </div>
  </section>

  <!-- Screenshots Section -->
  <section class="screenshots">
    <div class="section-header">
      <h2 class="section-title">Ø´Ø§Ù‡Ø¯ BalanceTrackr ÙÙŠ Ø§Ù„Ø¹Ù…Ù„</h2>
      <p class="section-description">
        Ø§ÙƒØªØ´Ù Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø¸ÙŠÙØ© ÙˆØ§Ù„Ø¨Ø¯ÙŠÙ‡ÙŠØ© Ø§Ù„Ù…ØµÙ…Ù…Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø§Ù„Ø­Ø¯ÙŠØ«Ø©.
      </p>
    </div>

    <div class="carousel-wrapper">
      <div class="carousel carousel-1">
        <img src="images/ar/1AR.png" alt="App dashboard showing balance overview" />
        <img src="images/ar/2.png" alt="Adding new transactions" />
        <img src="images/ar/3.png" alt="Account management interface" />
        <img src="images/ar/4.png" alt="Analytics and charts" />
      </div>

      <div class="carousel-dots carousel-dots-1">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>

    <div class="carousel-wrapper">
      <div class="carousel carousel-2">
        <img src="images/ar/5.png" alt="Transaction history" />
        <img src="images/ar/6.png" alt="Settings and preferences" />
        <img src="images/ar/7.png" alt="Payday countdown feature" />
        <img src="images/ar/8.png" alt="Siri Shortcuts integration" />
      </div>

      <div class="carousel-dots carousel-dots-2">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>
  </section>

  <!-- Video Section -->
  <section class="video-section">
    <h2 class="section-title">Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø³Ø­Ø± ÙŠØ­Ø¯Ø«</h2>
    <div class="video-container">
      <video autoplay muted playsinline loop>
        <source src="images/LadetRegneiMovie.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <div class="video-caption">
        <p>ğŸ’° Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ£Ø«ÙŠØ± "Ù…Ø·Ø± Ø§Ù„Ø£Ù…ÙˆØ§Ù„" Ø§Ù„Ù…Ø±Ø¶ÙŠ Ù…ØªÙ‰ Ø´Ø¦Øª!</p>
      </div>
    </div>
  </section>

  <!-- Download Section -->
  <section class="download">
    <div class="download-content">
      <h2 class="download-title">Ø¬Ø§Ù‡Ø² Ù„Ù„Ø³ÙŠØ·Ø±Ø©ØŸ</h2>
      <p class="download-subtitle">
        Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ø¨Ø³Ø·ÙˆØ§ ØªØªØ¨Ø¹ Ø£Ù…ÙˆØ§Ù„Ù‡Ù… Ù…Ø¹ BalanceTrackr.
      </p>
      <a href="https://apps.apple.com/us/app/regnskapp/id6743946348" target="_blank" class="download-badge">
        <img src="images/black.svg" alt="Download on the App Store" style="width: 140px; height: auto;" />
      </a>
    </div>
  </section>

  <!-- Reviews Section -->
  <section class="reviews">
    <div class="section-header">
      <h2 class="section-title">Ù…Ø§Ø°Ø§ ÙŠÙ‚ÙˆÙ„ Ø§Ù„Ù†Ø§Ø³</h2>
      <p class="section-description">
        Ø¢Ø±Ø§Ø¡ Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØºÙŠØ±ÙˆØ§ Ø¹Ø§Ø¯Ø§ØªÙ‡Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ©.
      </p>
    </div>

    <div class="reviews-grid">
      <a href="https://krispitech.com/why-ad-free-apps-like-balancetrackr-are-revolutionizing-budget-management/" target="_blank" rel="noopener noreferrer" class="review-card" style="cursor: pointer; text-decoration: none;">
        <p class="review-quote">
          "BalanceTrackr proves that ad-free apps can revolutionize budget management. Clean, private, and incredibly effective."
        </p>
        <div class="review-author">KrispiTech Review</div>
        <div class="review-source">Featured Review</div>
      </a>

      <div class="review-card">
        <div class="review-stars">
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
        </div>
        <p class="review-quote">
          "Great simple net worth tracker. I am really happy with this app. I use it to track net worth across a variety of accounts. I love that I can separate out shared accounts, I put kids college savings in that bucket since I don't consider it mine. Great simple functionality to transfer between accounts, update balances, use as much custom labeling as you want."
        </p>
        <div class="review-author">Allybombbally</div>
        <div class="review-source">App Store Review â€¢ United States<br>Oct 9, 2025</div>
      </div>

      <div class="review-card">
        <div class="review-stars">
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
        </div>
        <p class="review-quote">
          "So useful. The app is super simple and clean. Everything I need is right there and easy to manage."
        </p>
        <div class="review-author">MoZZoro</div>
        <div class="review-source">App Store Review â€¢ United States<br>Jul 2, 2025</div>
      </div>

      <div class="review-card">
        <div class="review-stars">
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
        </div>
        <p class="review-quote">
          "Superb. This app deserves no less than 5 stars because of what it offers in such a price. All the required features to track daily expenses are there. Integration with Apple Pay through shortcuts is a clear winner. Support is also very good. Highly recommended."
        </p>
        <div class="review-author">Mehroz Ahmed</div>
        <div class="review-source">App Store Review â€¢ United Arab Emirates<br>Jun 9, 2025</div>
      </div>

      <div class="review-card">
        <div class="review-stars">
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
        </div>
        <p class="review-quote">
          "Interesting app. Sounds everything been thought of. Only that the entry a little bit sluggish."
        </p>
        <div class="review-author">Diaappointed</div>
        <div class="review-source">App Store Review â€¢ Canada<br>Oct 1, 2025</div>
      </div>

      <div class="review-card">
        <div class="review-stars">
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
          <span class="review-star">â­</span>
        </div>
        <p class="review-quote">
          "Excellent potential. The app allows you to keep track of your income and expenses in a simple way: you can record when you receive money (income) or when you spend it (expense)."
        </p>
        <div class="review-author">misterbra</div>
        <div class="review-source">App Store Review â€¢ Italy<br>Oct 29, 2025</div>
      </div>
    </div>
  </section>

  <!-- Social Section -->
  <section class="social">
    <a href="https://www.instagram.com/balancetrackr/" target="_blank" rel="noopener noreferrer" class="social-link">
      <img src="images/Instagram_logo_2016.svg.webp" alt="Instagram" style="width: 24px; height: 24px;">
      ØªØ§Ø¨Ø¹ @BalanceTrackr
    </a>
    <a href="https://www.tiktok.com/@balancetrackr" target="_blank" rel="noopener noreferrer" class="social-link">
      <img src="images/tiktok-logo-logo-svgrepo-com.svg" alt="TikTok" style="width: 24px; height: 24px;">
      ØªØ§Ø¨Ø¹ @BalanceTrackr
    </a>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>&copy; <span id="copyright-year">2025</span> BalanceTrackr (RegnskApp).<br>
      Ole Morten Tengesdal. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
      <div style="margin-top: 1rem;">
        <a href="privacy-policy/ar.html" style="color: var(--text-secondary); text-decoration: none; margin: 0 1rem;">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
        <a href="support/ar.html" style="color: var(--text-secondary); text-decoration: none; margin: 0 1rem;">Ø§Ù„Ø¯Ø¹Ù…</a>
        <a href="SiriShortcutsSetup/ar.html" style="color: var(--text-secondary); text-decoration: none; margin: 0 1rem;">Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª</a>
      </div>
    </div>
  </footer>

  <script>
    let currentLang = 'en'; // can be set dynamically later

    function toggleLanguageMenu() {
      const menu = document.getElementById("language-menu");
      menu.classList.toggle("show");
    }

    function changeLanguage(langCode) {
      const flagPath = `images/${langCode}/${langCode === 'en' ? 'gb' : langCode}.svg`;
      document.getElementById("current-flag").src = flagPath;

      const langTexts = {
        'en': 'EN', 'no': 'NO', 'da': 'DA', 'sv': 'SV', 'de': 'DE',
        'fr': 'FR', 'es': 'ES', 'ar': 'AR', 'fi': 'FI', 'hi': 'HI',
        'it': 'IT', 'ja': 'JA', 'nl': 'NL', 'uk': 'UK', 'zhHans': 'CN', 'zhHant': 'TW'
      };
      document.getElementById("current-lang-text").textContent = langTexts[langCode] || 'EN';

      const file = langCode === 'en' ? 'index.html' : `index-${langCode}.html`;
      window.location.href = file;
    }

    // Determine which language is active based on URL
    function setInitialFlag() {
      const filename = window.location.pathname.split('/').pop();
      // Allowed language codes (matches the menu options)
      const langCodes = ['en','no','da','sv','de','fr','es','ar','fi','hi','it','ja','nl','uk','zhHans','zhHant'];
      let langCode = 'en'; // fallback

      // match index.html or index-<code>.html
      const m = filename.match(/^index(?:-([^.]+))?\.html$/);
      if (m && m[1] && langCodes.includes(m[1])) {
        langCode = m[1];
      } else {
        // fallback to 'en' if unknown or no match
        langCode = 'en';
      }

      const flagPath = `images/${langCode}/${langCode === 'en' ? 'gb' : langCode}.svg`;
      const img = document.getElementById("current-flag");
      if (img) img.src = flagPath;

      const langTexts = {
        'en': 'EN', 'no': 'NO', 'da': 'DA', 'sv': 'SV', 'de': 'DE',
        'fr': 'FR', 'es': 'ES', 'ar': 'AR', 'fi': 'FI', 'hi': 'HI',
        'it': 'IT', 'ja': 'JA', 'nl': 'NL', 'uk': 'UK', 'zhHans': 'CN', 'zhHant': 'TW'
      };
      document.getElementById("current-lang-text").textContent = langTexts[langCode] || 'EN';
    }

    setInitialFlag(); // call the function on load

    // Close menu when clicking outside
    document.addEventListener("click", function (event) {
      const switcher = document.getElementById("language-switcher");
      if (!switcher.contains(event.target)) {
        document.getElementById("language-menu").classList.remove("show");
      }
    });

    // Enhanced carousel functionality
    function setupCarousel(carouselNumber) {
      const carousel = document.querySelector(`.carousel-${carouselNumber}`);
      const dotsContainer = document.querySelector(`.carousel-dots-${carouselNumber}`);
      const images = carousel.querySelectorAll('img');
      let dots = [];
      let autoplayInterval;
      let resumeTimeout;
      let currentIndex = 0;

      function createDots() {
        dotsContainer.innerHTML = '';
        dots = [];

        const isDesktop = window.innerWidth >= 768;
        const dotsCount = isDesktop ? 3 : images.length;

        for (let i = 0; i < dotsCount; i++) {
          const dot = document.createElement('span');
          dot.className = 'dot';
          dot.addEventListener('click', () => {
            if (isDesktop) {
              // Map dots for desktop: 1 -> image 0, 2 -> image 2, 3 -> image 4 (for 5 images)
              const desktopIndexes = [0, 2, 4];
              scrollToImage(desktopIndexes[i]);
            } else {
              scrollToImage(i);
            }
            restartAutoplayWithDelay();
          });
          dotsContainer.appendChild(dot);
          dots.push(dot);
        }

        updateDots();
      }

      function updateDots() {
        const scrollLeft = carousel.scrollLeft;
        const carouselWidth = carousel.offsetWidth;
        const totalWidth = carousel.scrollWidth;

        let closestIndex = 0;
        let closestDistance = Infinity;

        images.forEach((img, index) => {
          const imgLeft = img.offsetLeft - carousel.offsetLeft;
          const imgCenter = imgLeft + (img.offsetWidth / 2);
          const viewportCenter = scrollLeft + (carouselWidth / 2);
          const distance = Math.abs(viewportCenter - imgCenter);
          if (distance < closestDistance) {
            closestDistance = distance;
            closestIndex = index;
          }
        });

        const isDesktop = window.innerWidth >= 768;
        let activeDotIndex;

        if (isDesktop) {
          // Determine which dot should be active based on closest image
          if (closestIndex <= 1) activeDotIndex = 0;
          else if (closestIndex >= 3) activeDotIndex = 2;
          else activeDotIndex = 1;
        } else {
          activeDotIndex = closestIndex;
        }

        dots.forEach(dot => dot.classList.remove('active'));
        if (dots[activeDotIndex]) dots[activeDotIndex].classList.add('active');
        currentIndex = closestIndex;
      }

      function scrollToImage(index) {
        const targetIndex = (index + images.length) % images.length;
        const targetImage = images[targetIndex];
        const imgLeft = targetImage.offsetLeft - carousel.offsetLeft;
        const imgCenter = imgLeft + (targetImage.offsetWidth / 2);
        const carouselCenter = carousel.offsetWidth / 2;
        const scrollTo = imgCenter - carouselCenter;

        carousel.scrollTo({
          left: scrollTo,
          behavior: 'smooth'
        });

        currentIndex = targetIndex;
        updateDots();
      }

      function startAutoplay() {
        const isDesktop = window.innerWidth >= 768;
        const interval = isDesktop ? 4000 : 3000;
        stopAutoplay();

        let desktopIndexes = [0, 2, 4]; // For 5 images
        // For desktop: start with dot 1 (image 0)
        let currentDot = isDesktop ? desktopIndexes.indexOf(currentIndex) : currentIndex;

        autoplayInterval = setInterval(() => {
          if (isDesktop) {
            currentDot = (currentDot + 1) % desktopIndexes.length;
            const nextIndex = desktopIndexes[currentDot];
            scrollToImage(nextIndex);
          } else {
            scrollToImage((currentIndex + 1) % images.length);
          }
        }, interval);
      }

      function stopAutoplay() {
        clearInterval(autoplayInterval);
      }

      function restartAutoplayWithDelay() {
        stopAutoplay();
        clearTimeout(resumeTimeout);
        resumeTimeout = setTimeout(startAutoplay, 3500);
      }

      // Only add scroll and interaction listeners on mobile
      const isDesktop = window.innerWidth >= 768;
      if (!isDesktop) {
        carousel.addEventListener('scroll', () => {
          if (!carousel.scrollTimeout) {
            carousel.scrollTimeout = setTimeout(() => {
              updateDots();
              carousel.scrollTimeout = null;
            }, 100);
          }
        });

        carousel.addEventListener('touchstart', stopAutoplay);
        carousel.addEventListener('touchend', restartAutoplayWithDelay);
        carousel.addEventListener('mousedown', stopAutoplay);
        carousel.addEventListener('mouseup', restartAutoplayWithDelay);
      }

      function initialize() {
        const isDesktop = window.innerWidth >= 768;
        if (!isDesktop) {
          createDots();
          scrollToImage(0); // Start on first image
          setTimeout(() => {
            startAutoplay();
          }, 300);
        }
      }

      window.addEventListener('resize', () => {
        const isDesktop = window.innerWidth >= 768;
        if (!isDesktop) {
          createDots();
          updateDots();
          restartAutoplayWithDelay(); // Only on mobile
        } else {
          // On desktop, clear dots and stop autoplay
          dotsContainer.innerHTML = '';
          dots = [];
          stopAutoplay();
        }
      });

      window.addEventListener('load', initialize);
      if (document.readyState === 'complete') {
        initialize();
      }

      return { updateDots, startAutoplay, scrollToImage };
    }

    document.addEventListener('DOMContentLoaded', () => {
      setupCarousel(1);
      setupCarousel(2);
    });

    // Enhanced menu toggle
    const toggleButton = document.getElementById('menu-toggle');
    const dropdown = document.getElementById('menu-dropdown');

    toggleButton.addEventListener('click', () => {
      dropdown.classList.toggle('show');
    });

    // Close menu when clicking outside
    document.addEventListener('click', (event) => {
      if (!document.getElementById('hamburger-menu').contains(event.target)) {
        dropdown.classList.remove('show');
      }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('fade-in-up');
        }
      });
    }, observerOptions);

    // Observe all feature cards and review cards
    document.querySelectorAll('.feature-card, .review-card').forEach(card => {
      observer.observe(card);
    });

    // Image Modal Functionality
    function initImageModal() {
      const modal = document.getElementById('image-modal');
      const modalImage = document.getElementById('modal-image');
      const modalClose = document.querySelector('.modal-close');

      // Add click event to all carousel images (desktop only)
      document.querySelectorAll('.carousel img').forEach(img => {
        // Only enable modal on desktop screens (>= 768px)
        if (window.innerWidth >= 768) {
          img.style.cursor = 'pointer';
          img.addEventListener('click', function() {
            modal.style.display = 'block';
            modalImage.src = this.src;
            modalImage.alt = this.alt;
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
          });
        }
      });

      // Close modal when clicking the close button
      modalClose.addEventListener('click', function() {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto'; // Restore scrolling
      });

      // Close modal when clicking outside the image
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.style.display = 'none';
          document.body.style.overflow = 'auto'; // Restore scrolling
        }
      });

      // Close modal with Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.style.display === 'block') {
          modal.style.display = 'none';
          document.body.style.overflow = 'auto'; // Restore scrolling
        }
      });

      // Update modal functionality on window resize
      window.addEventListener('resize', function() {
        document.querySelectorAll('.carousel img').forEach(img => {
          // Remove existing click events
          img.style.cursor = 'default';
          img.removeEventListener('click', img._modalClickHandler);

          // Re-enable modal on desktop if needed
          if (window.innerWidth >= 768) {
            img.style.cursor = 'pointer';
            img._modalClickHandler = function() {
              modal.style.display = 'block';
              modalImage.src = this.src;
              modalImage.alt = this.alt;
              document.body.style.overflow = 'hidden';
            };
            img.addEventListener('click', img._modalClickHandler);
          }
        });
      });
    }

    // Initialize modal after DOM is loaded
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initImageModal);
    } else {
      initImageModal();
    }

    // Update copyright year dynamically
    function updateCopyrightYear() {
      const currentYear = new Date().getFullYear();
      const copyrightElement = document.getElementById('copyright-year');
      if (copyrightElement) {
        copyrightElement.textContent = currentYear > 2025 ? `2025-${currentYear}` : '2025';
      }
    }
    
    // Run on page load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', updateCopyrightYear);
    } else {
      updateCopyrightYear();
    }
  </script>

  <!-- Image Modal -->
  <div id="image-modal" class="modal">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      <img id="modal-image" src="" alt="" />
    </div>
  </div>

  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://regnskapp.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
